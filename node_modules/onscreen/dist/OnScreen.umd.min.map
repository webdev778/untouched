{"version":3,"file":"dist/OnScreen.umd.min.js","sources":["dist/OnScreen.umd.js"],"names":["global","factory","exports","module","define","amd","OnScreen","this","attach","container","options","HTMLElement","style","window","getComputedStyle","position","addEventListener","_scroll","attached","insideViewport","el","arguments","length","undefined","tolerance","document","querySelector","visible","elRect","getBoundingClientRect","bottom","right","left","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","containerRect","offsetTop","scrollTop","offsetLeft","scrollLeft","width","height","eventHandler","trackedElements","selectors","Object","keys","forEach","selector","nodes","item","node","wasVisible","isVisible","enter","leave","debouncedScroll","_this","timeout","clearTimeout","setTimeout","throttle","destroy","removeEventListener","off","event","hasOwnProperty","on","callback","allowed","Error","indexOf","i","querySelectorAll","push","observeDOM","obj","MutationObserver","WebKitMutationObserver","eventListenerSupported","obs","mutations","addedNodes","removedNodes","observe","childList","subtree","debounce","defineProperties","configurable","enumerable","get","set","value","parseInt","defineProperty","writable","_debouncedScroll","call","element","prototype","check"],"mappings":"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"}